/*
*  text-shadow for MSIE
*  Copyright (c) 2011-2012 Kazz
*  http://asamuzak.jp
*  Dual licensed under MIT or GPL
*  http://asamuzak.jp/license
*/
function textShadowForMSIE(e){var t=function(){if(isMSIE){var t=[];if(e)return t[t.length]=e,t;t=[];for(var n=/text\-shadow\s*:\s*([0-9a-zA-Z\s\-\+\*\&#\.\(\)%\,\!\"\\'\>\<\\]+);?/,r=document.getElementsByTagName("*"),i=cNum(),s=0,o=r.length;s<o;s++)r[s].style!=null&&r[s].style.cssText.match(n)&&(r[s].id==""&&(r[s].id="objId"+i,i++),t[t.length]={sel:"#"+r[s].id,shadow:RegExp.$1});return f().concat(t)}return null},n=function(e,t){return isMSIE&&(ieVersion<9||document.documentMode<9)?e.currentStyle:t!=null?document.defaultView.getComputedStyle(e,t):document.defaultView.getComputedStyle(e,"")},r=function(e){var t=[];if(e=e.parentNode)for(t[t.length]=e;e.nodeName.toLowerCase()!="html";)(e=e.parentNode)&&(t[t.length]=e);return t},i=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.unshift(e[n]);return t},s=function(e,t){var i=function(e){var t,n,r=cNum(),i=document.createElement("div"),s=document.getElementsByTagName("body")[0];return i.id="dummyDiv"+r,r++,i.style.width=e,i.style.height=0,i.style.visibility="hidden",s.appendChild(i),t=document.getElementById(i.id),n=Math.abs(t.getBoundingClientRect().right-t.getBoundingClientRect().left),s.removeChild(t),n};if(e.match(/^0(em|ex|px|cm|mm|in|pt|pc)?$/))return 0;if(e.match(/^(\-?[0-9\.]+)px$/))return RegExp.$1*1;if(e.match(/^(\-?[0-9\.]+)(cm|mm|in|pt|pc)$/))return RegExp.$1*1>=0?i(e):i(RegExp.$1*-1+RegExp.$2)*-1;if(e.match(/^(\-?[0-9\.]+)(em|ex)$/)){var s=RegExp.$1*1>=0?i(e)/i("1em"):i(e)/i("1em")*-1,o=r(t),u=document.getElementsByTagName("html")[0],a=[];o.unshift(t),o[o.length]=u;for(var f=0,l=o.length;f<l;f++)a[a.length]=n(o[f]).fontSize;for(f=0,l=a.length;f<l;f++)if(a[f].match(/^([0-9\.]+)%$/))s*=RegExp.$1/100;else if(a[f].match(/^[0-9\.]+(em|ex)$/))s*=i(a[f])/i("1em");else if(a[f].match(/^smaller$/))s/=1.2;else{if(!a[f].match(/^larger$/)){a[f].match(/^([0-9\.]+)(px|cm|mm|in|pt|pc)$/)?s*=i(a[f]):a[f].match(/^xx\-small$/)?s*=i(n(u).fontSize)/1.728:a[f].match(/^x\-small$/)?s*=i(n(u).fontSize)/1.44:a[f].match(/^small$/)?s*=i(n(u).fontSize)/1.2:a[f].match(/^medium$/)?s*=i(n(u).fontSize):a[f].match(/^large$/)?s*=i(n(u).fontSize)*1.2:a[f].match(/^x\-large$/)?s*=i(n(u).fontSize)*1.44:a[f].match(/^xx\-large$/)?s*=i(n(u).fontSize)*1.728:a[f].match(/^([0-9\.]+)([a-z]+)/)&&(s*=i(a[f]));break}s*=1.2}return Math.round(s)}},o=function(e){if(e.match(/(rgba?)\(\s*([0-9\.]+%?\s*,\s*[0-9\.]+%?\s*,\s*[0-9\.]+%?)\s*(,\s*[01]?[\.0-9]*)?\s*\)/)){for(var t=RegExp.$1,n=RegExp.$2.split(/,/),r=RegExp.$3||"",i=[],s=0,o=n.length;s<o;s++)n[s].match(/([0-9\.]+)%/)&&(n[s]=Math.round(RegExp.$1*255/100)),i[i.length]=n[s];return t+"("+i.join(",")+r+")"}},u=function(e){for(var t=e.replace(/\s+/,"").split(/;/),n=[],r,i=0,s=t.length;i<s;i++){r=!0;for(var o=i;o<s;o++)i!=o&&t[i]==t[o]&&(r=!1);r&&t[i]!=""&&(n[n.length]=t[i])}return n.join(";")+";"},a=function(e){var t=e.match(/(\-)/)?e.replace(RegExp.$1,"\\-"):e;t+="\\s*:\\s*([0-9a-zA-Z\\s\\-\\+\\*\\&#\\.\\(\\)%\\,\\!\\\"\\'\\>\\<\\\\]+);?";var n=function(r){for(var i=[],s=r.cssRules||r.rules,o=0,u=s.length;o<u;o++)if(s[o].type)s[o].type==3&&(i=i.concat(n(s[o].styleSheet))),s[o].type==4&&(window.matchMedia=window.matchMedia||function(){return function(e){var t,n=document.getElementsByTagName("head")[0],r=document.getElementsByTagName("body")[0],i=document.createElement("style"),s=document.createElement("div"),o=cNum();return s.id="dDiv"+o,o++,s.style.cssText="margin:0;border:0;padding:0;height:0;visibility:hidden;",n.appendChild(i),r.appendChild(s),i.setAttribute("media",e),i.innerHTML="#"+s.id+"{ width:42px; }",t=s.offsetWidth==42,r.removeChild(s),n.removeChild(i),{matches:t,media:e}}}(),window.matchMedia(s[o].media.mediaText).matches&&(i=i.concat(n(s[o])))),s[o].type==1&&s[o].style.cssText.match(t)&&(i[i.length]={sel:s[o].selectorText,prop:e,val:s[o].style.getPropertyPriority(e)?RegExp.$1+" !important":RegExp.$1}),s[o].type==1&&s[o].selectorText.match(g)&&(m[m.length]={sel:s[o].selectorText,cText:s[o].style.cssText}),s[o].type==1&&s[o].selectorText.match(b)&&s[o].style.cssText.match(t)&&(y[y.length]={sel:s[o].selectorText,cText:s[o].style.getPropertyPriority(e)?RegExp.$1+" !important":RegExp.$1});else{var a=s[o].style.cssText||s[o].cssText;a&&(a.match(t)&&!s[o].selectorText.match(g)&&(i[i.length]={sel:s[o].selectorText,prop:e,val:RegExp.$1}),s[o].selectorText.match(g)&&(m[m.length]={sel:s[o].selectorText,cText:a}),s[o].selectorText.match(b)&&a.match(t)&&(y[y.length]={sel:s[o].selectorText,cText:RegExp.$1}))}return i};if(document.styleSheets)for(var r=[],i=document.styleSheets,s=0,o=i.length;s<o;s++){if(isMSIE&&(ieVersion<9||document.documentMode<9)&&i[s].imports)for(var u=i[s].imports,a=0,f=u.length;a<f;a++)u[a]!=undefined&&(r=r.concat(n(u[a])));r=r.concat(n(i[s]))}for(var l=document.getElementsByTagName("*"),c=cNum(),s=0,o=l.length;s<o;s++)l[s].style!=null&&l[s].style.cssText.match(t)&&(l[s].id==""&&(l[s].id="objId"+c,c++),r[r.length]={sel:"#"+l[s].id,prop:e,val:RegExp.$1.match(/important/)?RegExp.$1:RegExp.$1+" !important"});return r},f=function(){for(var e=[],t=a("text-shadow"),n=/^(#[0-9a-fA-F]{3,6})\s+([0-9a-zA-Z\s\-\.\(\)%\,\!]+)$/,r=0,i=t.length;r<i;r++)e[e.length]={sel:t[r].sel,shadow:t[r].val.match(n)?RegExp.$2+" "+RegExp.$1:t[r].val};return e},l=function(t){var o=function(e){for(var t=e.childNodes,n=0,r=t.length;n<r;n++)t[n].nodeType==1&&(t[n].hasChildNodes()?(t[n].style.color=e.style.color,o(t[n])):t[n].style.visibility="hidden")},u=function(e,t){for(var n=t.childNodes,r=0,i=n.length;r<i;r++)n[r].hasChildNodes()&&(n[r].nodeName.toLowerCase()==e.tagName.toLowerCase()&&n[r].firstChild.nodeValue==e.firstChild.nodeValue?n[r].style.visibility="hidden":u(e,n[r]))},a=function(e){for(var t=!0,n=r(e),i=0,s=n.length;i<s;i++)if(n[i].tagName.toLowerCase()=="span"&&n[i].className.match(/dummyShadow/)){t=!1;break}return t};if(t.shadow!="invalid"){for(var f=t.elm.childNodes,l=!1,c=0;c<f.length;c++)f[c].nodeName.toLowerCase()=="span"&&f[c].className.match(/dummyShadow/)&&(f[c].className.match(/hasImp/)?l=!0:(t.elm.removeChild(f[c]),--c));if(l==0||t.hasImp==1){for(var h,p=r(t.elm),c=0,d=p.length;c<d;c++){h==null&&(n(p[c]).backgroundColor!="transparent"||n(p[c]).backgroundImage!="none")&&(h=p[c]);for(var v=p[c].childNodes,m=0,g=v.length;m<g;m++)v[m].nodeType==1&&v[m].nodeName.toLowerCase()=="span"&&v[m].className.match(/dummyShadow/)&&u(t.elm,document.getElementById(v[m].id))}t.shadow!="none"&&t.shadow.length>1&&(n(t.elm).backgroundColor!="transparent"||n(t.elm).backgroundImage!="none")&&(t.shadow=i(t.shadow));if(t.shadow=="none"){for(var p=t.elm.parentNode.childNodes,c=0,d=p.length;c<d;c++)if(p[c].nodeName.toLowerCase()=="span"&&p[c].className=="dummyShadow"){n(t.elm).display=="inline-block"&&(t.elm.style.display="inline"),n(t.elm).position=="relative"&&(t.elm.style.position="static");break}if(!e&&t.elm.getAttribute("data-dynpseudo")!=null){var y=t.elm.getAttribute("data-dynpseudo");y.match(/(\|;\|default.+)$/)&&(y=y.replace(RegExp.$1,"")),y+="|;|"+escape("default||none"+(t.hasImp?" !important":"")),t.elm.setAttribute("data-dynpseudo",y)}}if(t.shadow!="none"&&f.length!=0&&a(t.elm)){for(var b=t.elm.cloneNode(!0),p=b.childNodes,c=0,d=p.length;c<d;c++)p[c]!=null&&p[c].hasChildNodes()&&p[c].nodeName.toLowerCase()=="span"&&p[c].className.match(/dummyShadow/)&&b.removeChild(p[c]);var w=b.innerHTML;ieVersion==9&&(w=w.replace(/\n/," ")),ieVersion==8&&(t.elm.innerHTML=t.elm.innerHTML);for(c=0,d=t.shadow.length;c<d;c++){var E=s(t.shadow[c].z,t.elm),S=s(t.shadow[c].x,t.elm)-E+s(n(t.elm).paddingLeft,t.elm);n(t.elm).textAlign=="center"&&(S-=(s(n(t.elm).paddingLeft,t.elm)+s(n(t.elm).paddingRight,t.elm))/2);var x=s(t.shadow[c].y,t.elm)-E+s(n(t.elm).paddingTop,t.elm);ieVersion==7&&E==0&&(S>=0&&(S-=1),x>=0&&(x-=1));var T=t.shadow[c].cProf||n(t.elm).color,k=.6;t.shadow[c].cProf!=null&&t.shadow[c].cProf.match(/rgba\(\s*([0-9]+\s*,\s*[0-9]+\s*,\s*[0-9]+)\s*,\s*([01]?[\.0-9]*)\)/)&&(T="rgb("+RegExp.$1+")",k=RegExp.$2*1);var L=document.createElement("span");L.id="dummyShadow"+C,C++,L.className=t.hasImp==1?"dummyShadow hasImp":"dummyShadow",L.style.display="block",L.style.position="absolute",L.style.left=S+"px",L.style.top=x+"px",L.style.width="100%",L.style.color=T,L.style.filter="progid:DXImageTransform.Microsoft.Blur(PixelRadius="+E+", MakeShadow=false, ShadowOpacity="+k+")",L.style.zIndex=-(c+1),L.innerHTML=w,n(t.elm).display=="inline"&&(t.elm.style.display="inline-block"),n(t.elm).position!="absolute"&&n(t.elm).position!="fixed"&&(t.elm.style.position="relative",ieVersion==7&&(t.elm.style.top=n(t.elm).paddingTop));if(n(t.elm).backgroundColor!="transparent"||n(t.elm).backgroundImage!="none")n(t.elm).zIndex!=("auto"||null)?L.style.zIndex=t.elm.style.zIndex:t.elm.style.zIndex=L.style.zIndex=-1,ieVersion==7&&(t.elm.style.zIndex=1,L.style.zIndex=-1);h&&h.tagName.toLowerCase()!="body"&&(t.elm.style.zIndex=1,L.style.zIndex=-1),ieVersion==7&&n(t.elm).lineHeight.match(/^([0-9\.]+)(em|ex|px|cm|mm|in|pt|pc|%)?$/)&&(t.elm.style.minHeight=RegExp.$2?RegExp.$2=="%"?s(RegExp.$1/100+"em",t.elm):s(RegExp.$1+RegExp.$2,t.elm):s(RegExp.$1+"em",t.elm));if(t.elm.getAttribute("data-pseudo")!=null){var A=unescape(t.elm.getAttribute("data-pseudo")).split("|;|");for(var m=0,g=A.length;m<g;m++)if(A[m].split("||")[0].match(/(::?(before|after))/)){var O="#"+L.id+RegExp.$1,M=(A[m].split("||")[1].replace(/;$/,"")+";").replace(/background(\-[a-z]+?)?\s*:\s*.+?;/ig,"").replace(/color\s*:\s*.+?;/i,"");M.match(/border/i)&&(M+="border-color : transparent !important; border-image : none !important;"),M.match(/content\s*:\s*url\(/i)&&(M+="visibility : hidden !important;"),N.addCSS(O,M)}}if(!e&&t.elm.getAttribute("data-dynpseudo")!=null){var y=t.elm.getAttribute("data-dynpseudo");y.match(/(\|;\|default.+)$/)&&(y=y.replace(RegExp.$1,"")),y+="|;|"+escape("default||"+s(t.shadow[c].x,t.elm)+"px "+s(t.shadow[c].y,t.elm)+"px "+E+"px "+(t.shadow[c].cProf!=null&&t.shadow[c].cProf.match(/rgba/)?t.shadow[c].cProf:T)),t.elm.setAttribute("data-dynpseudo",y)}t.elm.appendChild(L),o(document.getElementById(L.id))}}}}},c=function(e){var t=document.querySelectorAll(e.sel);if(t.length>0)for(var n=0,r=t.length;n<r;n++)if(!t[n].getAttribute("data-pseudo")||t[n].getAttribute("data-pseudo")&&!unescape(t[n].getAttribute("data-pseudo")).match(/::?first\-(letter|line)/))e.elm=t[n],l(e)},h=function(e){if(e.match(/none/))return"none";for(var t=[],n=e.match(/((rgba?\(\s*[0-9\.]+%?\s*,\s*[0-9\.]+%?\s*,\s*[0-9\.]+%?\s*(,\s*[01]?[\.0-9]*\s*)?\)|#[0-9a-fA-F]{3,6}|[a-zA-Z]+)\s)?(\-?[0-9\.]+(em|ex|px|cm|mm|in|pt|pc)?\s*){2,3}(rgba?\(\s*[0-9\.]+%?\s*,\s*[0-9\.]+%?\s*,\s*[0-9\.]+%?\s*(,\s*[01]?[\.0-9]*\s*)?\)|#[0-9a-fA-F]{3,6}|[a-zA-Z]+)?/g),r=0,i=n.length;r<i;r++){t[r]={x:"0",y:"0",z:"0",cProf:null};var s=n[r].match(/\-?[0-9\.]+(em|ex|px|cm|mm|in|pt|pc)?\s+\-?[0-9\.]+(em|ex|px|cm|mm|in|pt|pc)?(\s+[0-9\.]+(em|ex|px|cm|mm|in|pt|pc)?)?/);if(s=s[0].split(/\s+/),!s[0].match(/^(\-?[0-9\.]+(em|ex|px|cm|mm|in|pt|pc)?)$/)||!s[1].match(/^(\-?[0-9\.]+(em|ex|px|cm|mm|in|pt|pc)?)$/)){t="invalid";break}s.length>=2&&(t[r].x=s[0],t[r].y=s[1]),s.length==3&&s[2].match(/^([0-9\.]+(em|ex|px|cm|mm|in|pt|pc)?)$/)&&(t[r].z=s[2]),n[r].match(/%/)&&(n[r]=o(n[r])),n[r].match(/^(rgba?\(\s*[0-9]+\s*,\s*[0-9]+\s*,\s*[0-9]+\s*(,\s*[01]?[\.0-9]*\s*)?\)|[a-zA-Z]+)/)?t[r].cProf=RegExp.$1:n[r].match(/\s(rgba?\(\s*[0-9]+\s*,\s*[0-9]+\s*,\s*[0-9]+\s*(,\s*[01]?[\.0-9]*\s*)?\)|#[0-9a-fA-F]{3,6}|[a-zA-Z]+)$/)&&(t[r].cProf=RegExp.$1)}return t},p=function(e,t,n){var r=function(e,t){var n=e.getAttribute(t)?e.getAttribute(t).replace(/;$/,"")+";triggerDynPseudoShadow(event, this);":"triggerDynPseudoShadow(event, this);";n&&e.setAttribute(t,u(n))};for(var i=e.sel.split(","),s=0,o=i.length;s<o;s++){i[s]=i[s].replace(/^\s+/,"").replace(/\s+$/,"");if(i[s].match(n))for(var a=document.querySelectorAll(i[s].replace(RegExp.$1,"")),f=0,l=a.length;f<l;f++){var c=a[f].getAttribute(t)||"";c!=""&&c.match(/(\|;\|default.+)$/)&&(c=c.replace(RegExp.$1,"")),c=c!=""?c+"|;|"+escape(i[s]+"||"+e.cText):escape(i[s]+"||"+e.cText),unescape(c).match(/:(focus|hover|active)/)&&(a[f].id==""&&(a[f].id="dynId"+E,E++),c+="|;|"+escape("default||none"),unescape(c).match(/:focus/)&&(r(a[f],"onfocus"),r(a[f],"onblur")),unescape(c).match(/:hover/)&&(r(a[f],"onmouseover"),r(a[f],"onmouseout")),unescape(c).match(/:active/)&&(r(a[f],"onmousedown"),r(a[f],"onmouseup"),r(a[f],"onkeydown"),r(a[f],"onkeyup"))),a[f].setAttribute(t,c)}}},d=function(e){for(var t=[],n,r=0,i=e.length;r<i;r++){n=!0;for(var s=r;s<i;s++)r!=s&&e[r].sel==e[s].sel&&!e[r].shadow.match(/important/)&&(n=!1);n&&(t[t.length]=e[r])}return t},v=function(){try{if(document.documentElement.filters){var e,t,n=cNum(),r=document.createElement("div"),i=document.getElementsByTagName("body")[0];r.id="dummyDiv"+n,n++,r.style.width=0,r.style.height=0,r.style.visibility="hidden",r.style.filter="progid:DXImageTransform.Microsoft.Blur()",i.appendChild(r),e=document.getElementById(r.id);try{t=e.filters.item("DXImageTransform.Microsoft.Blur").Enabled}catch(s){t=!1}return i.removeChild(e),t}return!1}catch(s){return!1}};if(v()){var m=[],g=/(::?(before|after|first\-(letter|line)))/,y=[],b=/((:(focus|hover|active))+)/,w=d(t()),E=cNum();for(var S=0,x=m.length;S<x;S++)p(m[S],"data-pseudo",g);for(var S=0,x=y.length;S<x;S++)p(y[S],"data-dynpseudo",b);if(!e){var T=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(T);var N=T.sheet||T.styleSheet;N.addCSS=function(e,t){if(t.match(/text\-shadow\s*:\s*((.+?)+?(!\s*important)?);/)){var n=RegExp.$1;n=n.match(/^(rgba?\(\s*[0-9]+\s*,\s*[0-9]+\s*,\s*[0-9]+\s*(,\s*[01]?[\.0-9]*\s*)?\)|[a-zA-Z]+)/)?RegExp.$1:n.match(/\s(rgba?\(\s*[0-9]+\s*,\s*[0-9]+\s*,\s*[0-9]+\s*(,\s*[01]?[\.0-9]*\s*)?\)|#[0-9a-fA-F]{3,6}|[a-zA-Z]+)$/)&&RegExp.$1,n.match(/^(rgba?\(\s*[0-9]+\s*,\s*[0-9]+\s*,\s*[0-9]+\s*(,\s*[01]?[\.0-9]*\s*)?\)|#[0-9a-fA-F]{3,6}|[a-zA-Z]+)(\s*!\s!important)?$/)&&(t+="color : "+n+";")}e.match(g)&&N.insertRule?N.insertRule(e+"{"+t+"}",N.cssRules.length):N.addRule&&N.addRule(e,t,N.rules.length)}}for(var C=cNum(),S=0,x=w.length;S<x;S++)for(var k=w[S].sel.split(/,/),L=/^\s*([a-zA-Z0-9#\.:_\-\s>\+~]+)\s*$/,A=0,O=k.length;A<O;A++){k[A].match(L)&&(k[A]=RegExp.$1);var M={sel:k[A],shadow:h(w[S].shadow),hasImp:w[S].shadow.match(/\s*\!\s*important/)?!0:!1};c(M)}}}function triggerDynPseudoShadow(e,t){if(isMSIE){for(var e=e||window.event,n=e.clientX,r=e.clientY,i=t.getBoundingClientRect(),s=i.left<=n&&i.right>=n&&i.top<=r&&i.bottom>=r,o=t==document.activeElement,u=!1,a=[],f=unescape(t.getAttribute("data-dynpseudo")).split("|;|"),l=0,c=f.length;l<c;l++)f[l].split("||")[0].match(/(((:(focus|hover|active))+)|default)/)&&(a[a.length]={dyn:RegExp.$1.replace(/^:/,"").split(":").sort().join("_"),shadow:f[l].split("||")[1]},RegExp.$1=="default"&&f[l].match(/important/)&&(u=!0));var h=function(e){for(var n=!1,r=0,i=e.length;r<i;r++){for(var s=0,o=a.length;s<o;s++)if(e[r]==a[s].dyn){textShadowForMSIE({sel:"#"+t.id,shadow:a[s].shadow}),n=!0;break}if(n)break}};u||(e.type=="mouseover"&&(o?h(["focus_hover","hover"]):h(["hover"])),e.type=="mouseout"&&(o?h(["focus","default"]):h(["default"])),e.type=="mousedown"&&(o?h(["active_focus_hover","active_hover","active_focus","active","focus_hover","hover","focus"]):h(["active_hover","active","hover"])),e.type=="mouseup"&&(s?h(["focus_hover","hover","focus"]):h(["focus"])),e.type=="keydown"&&(s?h(["active_focus_hover","active_hover","active_focus","active","focus_hover","hover","focus"]):h(["active_focus","active","focus"])),e.type=="keyup"&&(s?h(["focus_hover","hover","focus"]):h(["focus"])),e.type=="focus"&&(s?h(["active_focus_hover","active_hover","active_focus","active","focus_hover","hover","focus"]):h(["focus"])),e.type=="blur"&&h(["default"]))}}function addEvent(e,t,n){t=="DOMContentLoaded"?e.addEventListener?e.addEventListener(t,n,!1):window.attachEvent?function(){try{document.documentElement.doScroll("left")}catch(t){setTimeout(arguments.callee,1);return}n.call(e,window.event)}():window.onload=function(e){n.call(window,e||window.event)}:e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,function(){n.call(e,window.event)}):e["on"+t]=function(t){n.call(e,t||window.event)}}var isMSIE=!1,ieVersion=function(e){return isMSIE&&navigator.userAgent.match(e)?RegExp.$1*1:null}(/MSIE\s([0-9]+[\.0-9]*)/),cNum=function(e){return function(){return e++}}(0);(function(){document.querySelectorAll=document.querySelectorAll||function(){var e=function(e){return function(){return e++}}(0);return function(t){var n=function(e){var n,r,i={elm:"*",id:[],eClass:[],pseudo:[],attr:[],rDom:[]};e=e.match(/(([a-zA-Z\*]{1}[a-zA-Z0-9]*)|(#[a-zA-Z_]{1}[a-zA-Z0-9_\-]*)|(\.[a-zA-Z_]{1}[a-zA-Z0-9_\-]*)|(::?([a-z]{1}[a-z0-9\(\)\-]*))|(\[[a-zA-Z]{2,}.+?\]){1,})+/g),e[e.length-1].match(/^([a-zA-Z\*]{1}[a-zA-Z0-9]*)/)&&(i.elm=RegExp.$1),e[e.length-1].match(/#[a-zA-Z_]{1}[a-zA-Z0-9_\-]*/)&&(i.id=e[e.length-1].match(/#[a-zA-Z_]{1}[a-zA-Z0-9_\-]*/g));for(n=0,r=i.id.length;n<r;n++)i.id[n]=i.id[n].replace(/#/,"");e[e.length-1].match(/\.[a-zA-Z_]{1}[a-zA-Z0-9_\-]*/)&&(i.eClass=e[e.length-1].match(/\.[a-zA-Z_]{1}[a-zA-Z0-9_\-]*/g));for(n=0,r=i.eClass.length;n<r;n++)i.eClass[n]=i.eClass[n].replace(/\./,"");e[e.length-1].match(/::?[a-z]{1}[a-z0-9\(\)\-]*/)&&(i.pseudo=e[e.length-1].match(/::?[a-z]{1}[a-z0-9\(\)\-]*/g));for(n=0,r=i.pseudo.length;n<r;n++)i.pseudo[n]=i.pseudo[n].replace(/::?/,"");e[e.length-1].match(/\[([a-zA-Z]{2,}.+)\]/)&&(i.attr=i.attr.concat(RegExp.$1.split("][")));for(n=0,r=i.attr.length;n<r;n++)i.attr[n]=i.attr[n].replace(/^\[|\]$/g,"");if(i.id.length==0)for(var s=document.getElementsByTagName(i.elm),n=0,r=s.length;n<r;n++)if(i.eClass.length>0){for(var o,u=0,a=i.eClass.length;u<a;u++){o=!1,s[n].className!=null&&s[n].className.match(i.eClass[u])&&(o=!0);if(o==0)break}o&&(i.id[i.id.length]=s[n].id)}else i.id[i.id.length]=s[n].id;if(e.length>1)for(n=0,r=e.length-1;n<r;n++)t.match(RegExp(e[n]+"(.+?)"+e[n+1]))&&(i.rDom[i.rDom.length]={elm:e[n],type:RegExp.$1==" "?"descend":RegExp.$1.match(/\>/)?"child":RegExp.$1.match(/\+/)?"adjacent":RegExp.$1.match(/\~/)?"general":null});return i},r=function(e){var t=function(e,t,n){var r=function(e){return e.nodeType==1?e:(e=e.previousSibling,e!=null?r(e):null)},i=function(e){var t=[];for((e=e.previousSibling)&&e.nodeType==1&&(t[t.length]=e);e!=null;)(e=e.previousSibling)&&e.nodeType==1&&(t[t.length]=e);return t},s=function(e){var t=[];if(e=e.parentNode)for(t[t.length]=e;e.nodeName.toLowerCase()!="body";)(e=e.parentNode)&&(t[t.length]=e);return t},o=!1;if(n=="child"||n=="descend"){var u=e.parentNode;if(t.id==u.id)o=!0;else if(n=="descend")for(var a=s(e.parentNode),f=0,l=a.length;f<l;f++)if(t.id==a[f].id){o=!0;break}}else if(n=="adjacent"||n=="general")if(e.previousSibling!=null){var u=r(e.previousSibling);if(t.id==u.id)o=!0;else if(n=="general"&&u.previousSibling!=null)for(var a=i(u),f=0,l=a.length;f<l;f++)if(t.id==a[f].id){o=!0;break}}return o},i=function(e,t,n){var r=!1;if(t.length==0)r=!0;else for(var i=0,s=t.length;i<s;i++)if(!n){if(e.tagName.toLowerCase()=="a"&&t[i]=="link"){r=!0;break}}else if(n&&n.childNodes&&t[i]=="first-child"&&n.childNodes[0]==e){r=!0;break}return r},s=function(e,t){var n=!0;if(t.length>0)for(var r=/^([a-zA-Z]+|data\-.+)([\~\|\^\$\*]?=?)["']?([a-zA-Z0-9_\-]+)["']?$/,i=[],s=0,o=t.length;s<o;s++){var u={attr:"",type:null,val:""};t[s].match(r)&&(RegExp.$1&&(u.attr=RegExp.$1),RegExp.$2==""&&RegExp.$3&&(u.attr=RegExp.$1+RegExp.$3),RegExp.$2!=""&&RegExp.$3&&(u.type=RegExp.$2,u.val=RegExp.$3));if(!e.getAttributeNode(u.attr)){n=!1;break}n=!1;if(e.getAttributeNode(u.attr).nodeValue!=(null||""))if(u.type==null&&u.val=="")n=!0;else for(var a=e.getAttributeNode(u.attr).nodeValue.split(" "),f=0,l=a.length;f<l;f++){if((u.type=="="||u.type=="|=")&&u.val==a[f]){n=!0;break}if(u.type=="~="&&u.val==a[f]){n=!0;break}if(u.type=="|="&&a[f].match("^"+u.val+"-")){n=!0;break}if(u.type=="^="&&a[f].match("^"+u.val)){n=!0;break}if(u.type=="$="&&a[f].match(u.val+"$")){n=!0;break}if(u.type=="*="&&a[f].match(u.val)){n=!0;break}n=!1}if(n==0)break}return n},o=[];if(e.id.length>0)for(var u=0,a=e.id.length;u<a;u++){var f=document.getElementById(e.id[u]);if(f)if(e.rDom.length==0)i(f,e.pseudo,!1)&&s(f,e.attr)&&(o[o.length]=f);else if(e.rDom.length==1){var l=n(e.rDom[0].elm);if(l.id.length>0)for(var c=e.rDom[0].type,h=0,p=l.id.length;h<p;h++){var d=document.getElementById(l.id[h]);d&&t(f,d,c)&&i(f,e.pseudo,d)&&s(f,e.attr)&&(o[o.length]=f)}}else if(e.rDom.length>1)for(var h=0,p=e.rDom.length-1;h<p;h++){var l=n(e.rDom[h+1].elm);if(l.id.length>0){l=r({elm:l.elm,id:l.id,eClass:l.eClass,pseudo:l.pseudo,attr:l.attr,rDom:[{elm:e.rDom[h].elm,type:e.rDom[h].type}]});var v=e.rDom[h+1].type;if(v)for(var m=0,g=l.length;m<g;m++)h==p-1&&t(f,l[m],v)&&i(f,e.pseudo,l[m])&&s(f,e.attr)&&(o[o.length]=f)}}}return o},i=[];try{for(var s=document.getElementsByTagName("*"),o=e(),u=0,a=s.length;u<a;u++)s[u].id==""&&(s[u].id="tmpId"+o,o++);i=i.concat(r(n(t)));for(u=0,a=s.length;u<a;u++)s[u].id.match(/tmpId[0-9]+/)&&(s[u].id="")}catch(f){}return i}}(),document.querySelector=document.querySelector||function(){return function(e){return document.querySelectorAll(e).length>0?document.querySelectorAll(e)[0]:null}}()})(),addEvent(document,"DOMContentLoaded",function(){ieVersion>=7&&ieVersion<=9&&textShadowForMSIE()}),addEvent(window,"load",function(){var e={sel:"#someId",shadow:"green 2px 2px 2px !important"},t=document.getElementById(e.sel.replace("#",""));t&&addEvent(t,"click",function(){if(ieVersion>=7&&ieVersion<=9)textShadowForMSIE(e);else if(ieVersion>9||!isMSIE)e.shadow.match(/(\s*\!\s*important)/)?t.style.setProperty("text-shadow",e.shadow.replace(RegExp.$1,""),"important"):t.style.setProperty("text-shadow",e.shadow,"")})});